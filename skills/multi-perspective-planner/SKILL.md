---
name: multi-perspective-planner
description: 一般業務・開発タスクの計画を、要件・実装・運用・リスクの複数観点で統合して検証し、意思決定可能な最終計画として提示する。
---

# 複眼計画スキル

## 目的
依頼の曖昧さを最小化し、要求（事業価値）・実現性（実装）・継続性（運用・品質・リスク）を同時に評価して、実行フェーズに移せる決定済み計画を返す。

## トリガー
- 「計画を立てて」
- 「〜の実行計画を作って」
- 「方針を決めて」
- `multi-perspective-planner` の明示呼び出し

## 実行トランジション
常に以下の順で進める。  
不十分な情報がある場合は、最終計画を出す前に必要最小限の確認だけを行う。

### 1) 問題再定義
1. 目的を1文に圧縮する。  
2. 制約を列挙する（期限、予算、体制、技術、法令/ガイドライン）。  
3. 成功条件（KPI）を明確化する。  
4. 受け入れ条件を明文化する。  
5. 利害関係者（意思決定者・実行者）と連携範囲を固定する。  

### 2) 三本柱の草案生成
#### A. 要件・価値草案
- 価値仮説、優先度、スコープ境界を定義する。  
- 何を達成すべきか、何を捨てるかを明確化する。  

#### B. 実装実現性草案
- 技術選定、依存関係、前提環境、実施手段を定義する。  
- 工数見積（上限/下限）を提示する。  

#### C. 運用・品質・リスク草案
- 運用体制、監視観点、テスト方針、ロールバック方針を定義する。  
- 主要リスク（技術・人員・外部依存・法務）を洗い出す。  

### 3) 草案マージ
- 重複項目は統合し、順序競合は依存関係で解決する。  
- 「目的不一致」「期間衝突」「担当重複」「前提不整合」を必ず除去する。  
- 競合が解決できない場合は、代替案候補を最低1件提示する。  

### 4) 前提・未確定情報の整理
- `assumptions` と `open_questions` を分離して列挙する。  
- 未確定が少なくとも1件ある場合は、最終計画の前に確認質問を明示する。  
- 質問は実務上即時回答可能な最小セットに絞る。  

### 5) 固定チェックリスト検証
`references/multi_lens_checklist.md` にある項目で検証し、合否を記録する。

- 依存関係: 外部依存/組織依存が明示されているか  
- リスク: 主要リスクに対する緩和策があるか  
- テスト: テスト観点と実施時点があるか  
- ロールバック: 失敗時の巻き戻し手順があるか  
- コミュニケーション: エスカレーションと停止条件があるか  

### 6) 最終出力テンプレート化
以下の固定見出しを含めること。  
`decision_ready_plan` 構造として出力する。  

## 期待する出力インターフェース

```text
- decision_ready_plan
  - summary: 一言サマリ
  - assumptions
  - open_questions
  - merged_plan（フェーズ/担当/依存/工数レンジ）
  - success_criteria
  - validation_results（Pass/Need follow-up）
  - major_risks_and_mitigations
  - alternatives（最大3件）
  - execution_next_actions
```

### 出力テンプレート（固定見出し）

## 一言サマリ

## 成功条件
- 受け入れ条件
- テスト条件

## 統合後プラン
### フェーズ
### 担当
### 依存
### 工数レンジ

## 検証結果
- Pass / Need follow-up

## 主要リスク・緩和策

## 代替案（最大3件）

## assumptions

## open_questions

## execution_next_actions

## 検証ケース
- ケース1: 目的のみ提示された場合は、追加確認を最小件数で提示する。  
- ケース2: 開発機能追加では、3視点草案→衝突検出→統合済みロードマップを示す。  
- ケース3: 運用品質要件付きでは、監査・移行手順を含めて実装可否判断を示す。  
- ケース4: 期限短縮と品質厳守が衝突する場合、代替案を比較し推奨案を選ぶ。  

