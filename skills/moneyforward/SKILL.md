---
name: moneyforward
description: "MoneyForward の経費ワークフロー向けガイダンス。請求/会計運用、ファイル取込フロー、実務的な突合支援を扱う。"
category: finance, accounting, expense
dependencies:
  - MoneyForward Webポータルへのアクセス
  - 経費データ入力元（CSV/API/手動アップロード）
  - OCR出力ファイルの取り扱い
updated: 2026-02-16
---

# MoneyForward 運用ガイド

## このスキルの用途

MoneyForward の経費運用で次を実施する際に使う:

- 領収書取り込みと請求処理フロー
- 経費レコードの取込（CSV/手動アップロード含む）
- 勘定科目/カテゴリ割り当てと突合支援
- トレーサビリティを担保したレポート作成
- 定期財務業務の運用ランブック整備

## 基本ワークフロー

1. 元データと想定マッピング（vendor, amount, date, tax, category）を準備する。
2. 認証/セッション状態と権限を確認する。
3. 取込方式を適用する:
   - Webアップロード
   - API/パス指定取込（環境対応時）
   - OCR補助取り込み
4. 取込後レコードを元データ合計と突合する。
5. 手動補正ルールを適用する。
6. 実行ログと根拠を添えて結果をエクスポートまたは保管する。

## 設定・運用メモ

- テナント/アカウント範囲は環境ごとに明示する。
- 次のテンプレートマッピングを維持する:
  - ヘッダー正規化
  - 既定の科目/カテゴリ規則
  - 重複検知キー
- 初回は非破壊同期を使い、確定レコードのみ書き込みを行う。

## エラーハンドリング

- 不正行は理由コード付きで rejection bucket に隔離する。
- リトライ対象は一時障害のみ（ネットワーク、UI/API一時不安定）。
- 認証/セッション異常は再認証し、チェックポイントから再開する。
- 取込確定前に amount/date/tax の解析結果を検証する。
- 可能な範囲で冪等性（run-key + source row hash）を維持する。

## 検証チェックリスト

1. 必須列がすべて存在するか（または安全に既定値補完されるか）確認する。
2. 取込後に通貨別・期間別合計を確認する。
3. 再実行時に重複/重なり検知が機能することを確認する。
4. バッチごとに代表サンプルを最低1件目視確認する。
5. 根拠ログに元ファイル、時刻、実行者が入っていることを確認する。

## トラブルシュート

- **Upload blocked / permission error**: 権限ロールとテナントアクセスを確認する。
- **OCR mismatch**: 元の領収書と抽出結果を比較し、テンプレート規則を調整する。
- **Tax misclassification**: 突合前に tax/category マッピング表を確認する。
- **Missing imports**: 文字コード（CSV/UTF-8）、日付形式、区切り文字を確認する。

## 運用ログ

- 最低限、次をログに残す:
  - source file name
  - job start/end
  - processed/failed counts
  - unresolved exception rows
  - operator notes

## セキュリティと監査

- ユーザー認証情報をログ出力しない。
- セッション成果物は管理されたディレクトリに保存する。
- エクスポートとログの保管ポリシーは財務ポリシーと一致させる。

## 参照

- `references/official_sources.md` に最新の MoneyForward 公式マニュアルと機能ページをまとめている。
